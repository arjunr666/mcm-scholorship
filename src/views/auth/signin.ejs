<!DOCTYPE html>
<html lang="en">
  <%- include('../partials/head.ejs') %>
  <body>
    <%- include('../partials/nav.ejs') %>

    <div>
      <div>
        <form id="form">

          <label for="employeeNumber"> Employee Number </label>
          <br />
          <input type="text" id="employeeNumber" name="employeeNumber" />
          <br />
          <span class="employeeNumberErr"></span>
          <br />
    
          <label for="password"> Password </label>
          <br />
          <input type="password" id="password" name="password" />
          <br />
          <span class="passwordErr"></span>
          <br />

         
          <button id="btn">Signin</button>
        </form>
      </div>
    </div>

    <script>

      const employeeNumberErr = document.getElementById("employeeNumberErr");
      const passwordErr = document.getElementById("passwordErr");
      const btn = document.getElementById("btn");

      btn.addEventListener("click", async (e) => {
        e.preventDefault();

        const employeeNumber = document.getElementById("employeeNumber").value;
        const password = document.getElementById("password").value;
        

        //console.log(firstName,lastName,email,phone,password,confirmPassword,department);

        firstNameErr.textContent = "";
        lastNameErr.textContent = "";
        emailErr.textContent = "";
        phoneErr.textContent = "";
        departmentErr.textContent = "";
        passwordErr.textContent = "";
        confirmPasswordErr.textContent = "";

        try {
          const res = await fetch("/auth/signin", {
            method: "POST",
            body: JSON.stringify({
              employeeNumber,
              password,
            }),
            headers: { "Content-Type": "application/json" },
          });

          const data = await res.json();
          console.log(data);
          
        } catch (err) {
          console.log(err);
        }
      });
    </script>

    <%- include('../partials/footer.ejs') %>
  </body>
</html>
